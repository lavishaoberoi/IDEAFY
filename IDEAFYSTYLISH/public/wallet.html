<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>IDEAFY Magical Wallet + Memory Game</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Philosopher:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Philosopher', serif;
      background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 35%, #0f0f23 100%);
      background-attachment: fixed;
      color: #f4f4f4;
      text-align: center;
      margin: 0;
      padding: 10px;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    /* Magical Background Elements */
    .magical-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .floating-snitch {
      position: absolute;
      font-size: 20px;
      color: #ffd700;
      animation: floatSnitch 8s infinite ease-in-out;
      filter: drop-shadow(0 0 10px #ffd700);
    }

    .floating-star {
      position: absolute;
      color: #fff;
      animation: twinkle 3s infinite ease-in-out;
    }

    .house-emblem {
      position: absolute;
      font-size: 25px;
      animation: gentleFloat 6s infinite ease-in-out;
      opacity: 0.3;
    }

    .gryffindor { color: #740001; }
    .slytherin { color: #1a472a; }
    .hufflepuff { color: #ecb939; }
    .ravenclaw { color: #0e1a40; }

    @keyframes floatSnitch {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(100px, -50px) rotate(90deg); }
      50% { transform: translate(-50px, -100px) rotate(180deg); }
      75% { transform: translate(-100px, 50px) rotate(270deg); }
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.5); }
    }

    @keyframes gentleFloat {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }

    /* Main Content */
    .content {
      position: relative;
      z-index: 10;
    }

    h1 {
      font-family: 'Cinzel', serif;
      color: #ffd700;
      margin: 20px 0 10px;
      font-size: 2.5rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
      animation: goldGlow 2s infinite alternate;
    }

    @keyframes goldGlow {
      from { text-shadow: 2px 2px 4px rgba(0,0,0,0.8), 0 0 20px #ffd700; }
      to { text-shadow: 2px 2px 4px rgba(0,0,0,0.8), 0 0 30px #ffd700, 0 0 40px #ffd700; }
    }

    #wallet {
      background: linear-gradient(135deg, rgba(116, 0, 1, 0.9), rgba(26, 71, 42, 0.9));
      border: 2px solid #ffd700;
      margin: 10px auto;
      padding: 20px;
      border-radius: 20px;
      max-width: 350px;
      box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3), inset 0 1px 0 rgba(255,255,255,0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    #wallet::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,215,0,0.1), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    #wallet:hover {
      transform: scale(1.02) translateY(-5px);
      box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4), inset 0 1px 0 rgba(255,255,255,0.3);
    }

    #wallet h2 {
      font-family: 'Cinzel', serif;
      font-size: 1.4rem;
      margin-bottom: 15px;
      color: #ffd700;
      position: relative;
      z-index: 2;
    }

    #wallet p {
      position: relative;
      z-index: 2;
      margin: 10px 0;
      font-weight: 500;
    }

    #controls {
      margin: 25px 0;
    }

    #controls button {
      margin: 8px;
      padding: 12px 25px;
      font-size: 1rem;
      font-family: 'Cinzel', serif;
      font-weight: 600;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      background: linear-gradient(45deg, #4a90e2, #7b68ee);
      color: white;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    #controls button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
      transition: all 0.5s ease;
      transform: translate(-50%, -50%);
    }

    #controls button:hover::before {
      width: 300px;
      height: 300px;
    }

    #controls button:hover {
      transform: scale(1.05) translateY(-2px);
      box-shadow: 0 10px 25px rgba(123, 104, 238, 0.4);
    }

    #controls button:active {
      transform: scale(0.98);
    }

    /* Magical Particles */
    .magic-particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #ffd700;
      border-radius: 50%;
      pointer-events: none;
      animation: magicParticle 2s ease-out forwards;
    }

    @keyframes magicParticle {
      0% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
      100% {
        opacity: 0;
        transform: scale(0) translateY(-100px);
      }
    }

    #memory-section {
      display: none;
      animation: magicalAppear 1s ease-in-out;
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 20px;
      margin: 20px auto;
      max-width: 600px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,215,0,0.3);
    }

    @keyframes magicalAppear {
      from { 
        opacity: 0; 
        transform: translateY(50px) scale(0.8);
      }
      to   { 
        opacity: 1; 
        transform: translateY(0) scale(1);
      }
    }

    #memory-section h2 {
      font-family: 'Cinzel', serif;
      color: #ffd700;
      font-size: 1.8rem;
      margin-bottom: 20px;
    }

    #timer {
      font-size: 1.2rem;
      margin: 15px;
      color: #87ceeb;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(135, 206, 235, 0.5);
    }

    #game {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
      gap: 12px;
      max-width: 500px;
      margin: 20px auto;
      padding: 0 10px;
    }

    .card {
      perspective: 1000px;
      position: relative;
    }

    .inner {
      width: 100%;
      aspect-ratio: 1;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
      cursor: pointer;
    }

    .revealed .inner {
      transform: rotateY(180deg);
    }

    .front, .back {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      backface-visibility: hidden;
      border: 2px solid rgba(255,215,0,0.3);
    }

    .front {
      background: linear-gradient(135deg, #2c3e50, #4a6741);
      color: #ffd700;
      font-family: 'Cinzel', serif;
    }

    .front::before {
      content: '🔮';
      font-size: 1.5rem;
    }

    .back {
      background: linear-gradient(135deg, #8b4513, #daa520);
      transform: rotateY(180deg);
      box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
    }

    .card:hover .inner {
      transform: scale(1.05);
    }

    .revealed:hover .inner {
      transform: rotateY(180deg) scale(1.05);
    }

    .matched .inner {
      pointer-events: none;
      animation: matchSpell 1s ease-in-out;
    }

    @keyframes matchSpell {
      0% { transform: scale(1); }
      25% { transform: scale(1.2) rotateY(180deg); }
      50% { 
        transform: scale(1.1) rotateY(180deg);
        box-shadow: 0 0 30px #ffd700;
      }
      100% { transform: scale(1) rotateY(180deg); }
    }

    #result {
      font-size: 1.4rem;
      font-weight: bold;
      margin-top: 20px;
      color: #ffd700;
      text-shadow: 0 0 15px #ffd700;
      font-family: 'Cinzel', serif;
    }

    #restart {
      background: linear-gradient(45deg, #dc143c, #ff6347);
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      font-size: 1rem;
      font-family: 'Cinzel', serif;
      font-weight: 600;
      color: white;
      cursor: pointer;
      margin: 15px;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    #restart:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(220, 20, 60, 0.4);
    }

    /* Mobile Responsiveness */
    @media (max-width: 500px) {
      h1 {
        font-size: 2rem;
      }
      
      #wallet {
        width: 95%;
        padding: 15px;
        font-size: 0.9rem;
      }
      
      #controls button {
        width: 90%;
        margin: 8px 0;
        padding: 15px;
      }
      
      #game {
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
        max-width: 100%;
      }
      
      .front, .back {
        font-size: 1.5rem;
      }
      
      .floating-snitch, .house-emblem {
        font-size: 15px;
      }
      
      /* Reduce animations on mobile for performance */
      .floating-snitch {
        animation-duration: 12s;
      }
    }

    @media (max-width: 320px) {
      #game {
        gap: 5px;
      }
      
      .front, .back {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Magical Background -->
  <div class="magical-bg">
    <div class="floating-snitch" style="top: 10%; left: 20%;"><i class="fas fa-circle"></i></div>
    <div class="floating-snitch" style="top: 60%; right: 15%;"><i class="fas fa-circle"></i></div>
    <div class="floating-star" style="top: 25%; left: 70%;">✨</div>
    <div class="floating-star" style="top: 70%; left: 10%;">⭐</div>
    <div class="floating-star" style="top: 15%; right: 30%;">✨</div>
    <div class="floating-star" style="top: 80%; right: 60%;">⭐</div>
    <div class="house-emblem gryffindor" style="top: 40%; left: 5%;">🦁</div>
    <div class="house-emblem slytherin" style="top: 20%; right: 10%;">🐍</div>
    <div class="house-emblem hufflepuff" style="bottom: 30%; left: 15%;">🦡</div>
    <div class="house-emblem ravenclaw" style="bottom: 60%; right: 20%;">🦅</div>
  </div>

  <div class="content">
    <h1><i class="fas fa-magic"></i> IDEAFY Magical Wallet</h1>

    <div id="wallet">
      <h2><i class="fas fa-coins"></i> Your Enchanted Wallet</h2>
      <p><strong><i class="fas fa-map-marker-alt"></i> Wallet Address:</strong> <span id="walletAddress"></span></p>
      <p><strong><i class="fas fa-coins"></i> Token Balance:</strong> <span id="tokenBalance">0</span> 🪙</p>
    </div>

    <div id="controls">
      <button onclick="startMemoryGame()"><i class="fas fa-bolt"></i> Cast Spell to Earn Tokens</button>
      <button onclick="window.location.href='showing_ways_to_collaborate.html'"><i class="fas fa-portal-enter"></i> Enter Portal</button>
    </div>

    <div id="memory-section">
      <h2><i class="fas fa-brain"></i> Magical Memory Challenge</h2>
      <div id="timer"><i class="fas fa-hourglass-half"></i> Time Left: 60s</div>
      <div id="game"></div>
      <div id="result"></div>
      <button id="restart"><i class="fas fa-redo"></i> Cast Again</button>
    </div>
  </div>

  <script>
    // Magical Effects
    function createMagicalParticles(element) {
      for (let i = 0; i < 8; i++) {
        const particle = document.createElement('div');
        particle.className = 'magic-particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        element.appendChild(particle);
        setTimeout(() => particle.remove(), 2000);
      }
    }

    // Enhanced button interactions
    document.querySelectorAll('button').forEach(button => {
      button.addEventListener('click', function(e) {
        createMagicalParticles(this);
      });
    });

    // Wallet System
    const walletAddressEl = document.getElementById('walletAddress');
    const tokenBalanceEl = document.getElementById('tokenBalance');

    function generateWalletAddress() {
      return Math.random().toString(36).substr(2, 10).toUpperCase();
    }

    function loadWallet() {
      let wallet = localStorage.getItem("wallet");
      let tokens = localStorage.getItem("tokens");

      if (!wallet) {
        wallet = generateWalletAddress();
        localStorage.setItem("wallet", wallet);
      }

      if (!tokens) {
        tokens = 0;
        localStorage.setItem("tokens", tokens);
      }

      walletAddressEl.textContent = wallet;
      tokenBalanceEl.textContent = tokens;
    }

    function addTokens(amount) {
      let tokens = parseInt(localStorage.getItem("tokens") || "0", 10);
      tokens += amount;
      localStorage.setItem("tokens", tokens);
      tokenBalanceEl.textContent = tokens;
      
      // Magical effect for token earning
      document.getElementById('wallet').style.animation = 'goldGlow 0.5s ease-in-out 3';
    }

    // Game Logic
    const emojis = ['🍓','🍋','🍇','🍉','🍒','🍍','🥝','🥑','🍎','🍌'];
    let cards = [], firstCard = null, lockBoard = false, matchedCount = 0;
    let timeLeft = 60, timerInterval = null;

    const gameContainer = document.getElementById('game');
    const result = document.getElementById('result');
    const timerDisplay = document.getElementById('timer');
    const restartButton = document.getElementById('restart');
    const memorySection = document.getElementById('memory-section');

    function startMemoryGame() {
      memorySection.style.display = "block";
      startGame();
      setTimeout(() => {
        window.scrollTo({ top: memorySection.offsetTop - 20, behavior: "smooth" });
      }, 100);
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function createBoard() {
      const pairs = [...emojis, ...emojis];
      shuffle(pairs);
      gameContainer.innerHTML = '';
      result.textContent = '';
      matchedCount = 0;
      cards = [];

      pairs.forEach((emoji, index) => {
        const card = document.createElement('div');
        card.classList.add('card');

        const inner = document.createElement('div');
        inner.classList.add('inner');

        const front = document.createElement('div');
        front.classList.add('front');

        const back = document.createElement('div');
        back.classList.add('back');
        back.textContent = emoji;

        inner.appendChild(front);
        inner.appendChild(back);
        card.appendChild(inner);
        card.dataset.emoji = emoji;
        card.dataset.index = index;

        card.addEventListener('click', () => handleFlip(card));
        gameContainer.appendChild(card);
        cards.push(card);
      });
    }

    function handleFlip(card) {
      if (lockBoard || card.classList.contains('revealed') || card.classList.contains('matched')) return;

      card.classList.add('revealed');
      createMagicalParticles(card);

      if (!firstCard) {
        firstCard = card;
      } else {
        lockBoard = true;
        if (firstCard.dataset.emoji === card.dataset.emoji && firstCard !== card) {
          firstCard.classList.add('matched');
          card.classList.add('matched');
          matchedCount += 2;
          checkWin();
        } else {
          setTimeout(() => {
            firstCard.classList.remove('revealed');
            card.classList.remove('revealed');
          }, 800);
        }
        setTimeout(() => {
          firstCard = null;
          lockBoard = false;
        }, 850);
      }
    }

    function checkWin() {
      if (matchedCount === 20) {
        clearInterval(timerInterval);
        result.innerHTML = "🎉 <i class='fas fa-magic'></i> MAGICAL! YOU EARNED 10 TOKENS! <i class='fas fa-coins'></i> 🎉";
        addTokens(10);
      }
    }

    function startTimer() {
      timeLeft = 60;
      timerDisplay.innerHTML = `<i class="fas fa-hourglass-half"></i> Time Left: ${timeLeft}s`;

      timerInterval = setInterval(() => {
        timeLeft--;
        timerDisplay.innerHTML = `<i class="fas fa-hourglass-half"></i> Time Left: ${timeLeft}s`;

        if (timeLeft === 0) {
          clearInterval(timerInterval);
          lockBoard = true;
          result.innerHTML = "😢 <i class='fas fa-sad-tear'></i> BETTER LUCK NEXT TIME";
        }
      }, 1000);
    }

    function startGame() {
      firstCard = null;
      lockBoard = false;
      clearInterval(timerInterval);
      createBoard();
      startTimer();
    }

    restartButton.addEventListener('click', startGame);

    // Init
    window.onload = () => {
      loadWallet();
    };

    // Add more floating elements dynamically
    function addRandomMagicalElements() {
      const magicalBg = document.querySelector('.magical-bg');
      
      // Add more stars
      for (let i = 0; i < 5; i++) {
        const star = document.createElement('div');
        star.className = 'floating-star';
        star.textContent = Math.random() > 0.5 ? '✨' : '⭐';
        star.style.top = Math.random() * 100 + '%';
        star.style.left = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 3 + 's';
        magicalBg.appendChild(star);
      }
    }

    // Initialize additional magical elements
    setTimeout(addRandomMagicalElements, 1000);
  </script>
</body>
</html>
